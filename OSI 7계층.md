# OSI 7계층

* 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것

## OSI 7계층 나눈 이유

* 흐름을 한 눈에 알아보기 쉬우며, 7단계 중 특정한 곳에 이상이 생기면 이상이 생긴 단계만 수정할 수 있기 때문임.

![image](https://github.com/wltnthss/Network/assets/60785586/48941f0e-7b6e-4f36-a871-a040f8e2b2d4)

## L1 물리계층

* 7계층 중 최하위 계층
* 주로 전기 신호를 전달하는데 초점이 맞춰져있음.
* 데이터를 0과 1의 비트열 형태의 전기적 신호 상태로 이루어져 있음.
* 주요 장비로는 허브, 리피터, 케이블, 커넥터, 트랜시버 등등이 있음.

## L2 데이터 링크 계층

* 전기 신호를 알아볼 수 있는 데이터 형태로 처리함.
* 주소 정보를 정의하고 정확한 주소로 통신이 되도록 하는데 초점이 맞추어져 있음.
* 물리적인 MAC 주소를 통해서 통신하며 데이터 단위는 프레임임.
* 주요 장비로는 브리치, 스위치가 있음.

## L3 네트워크 계층

* 논리적인 IP 주소를 통해서 통신함.
* 172.31.0.1 과 같이 네트워크 주소와 호스트 주소로 나누어져있음
* 데이터 단위는 패킷이며 IP주소를 통해 최적의 경로를 찾아주고 해당 경로로 패킷을 전송하는 역할을 함.
* 주요 장비는 라우터, L3 스위치가 있음.

## L4 트랜스포트 계층

* 4계층인 트랜스포트는 데이터들이 정상적으로 잘 보내지는지 바로잡아 주는 역할을 함.
* 패킷 네트워크는 데이터를 분할해 패킷에 실어보낼 때 유실되거나 순서가 바뀌는 경우가 있음.
  * 이를 위해 패킷의 순서와 응답 번호를 지칭하기위해 시퀀스 번호와 ACK 번호를 사용하여 패킷을 통과, 차단하는 기능을 수행함.
  * 실무에서는 seq, ack number 로 표기해서 사용함
* 데이터 전송을 위해 Port번호를 사용함.( 대표적인 프로토콜로 TCP와 UDP가 있음)
* 주요 장비로는 로드 밸런서와 방화벽이 있음.

## L5 세션 계층

* 프로세스가 연결을 성립하도록 관리하며 작업 완료 후에는 연결을 끊는 역할을 함.
* 에러로 중단된 통신에 대한 에러 복구와 재전송 역할을 수행함.

## L6 프레젠테이션 계층

* 데이터를 어떻게 표현할지 정하는 역할을 함.
* 주로 MIME 인코딩, 암호화, 복호화, 압축, 코드 변환과 같은 동작이 이루어짐.

## L7 어플리케이션 계층

* 소프트웨어의 UI 부분이나 사용자 입,출력 부분을 정의하는 역할을 함.
* 주요 프로토콜로는 FTP, SMTP, HTTP, TELNET 등이 있음.

## 작동 원리

* 상위 계층 -> 하위 계층으로 데이터를 보내면 물리 계층에서 전기 신호 형태로 네트워크를 통해 신호를 보냄.
* 받는 쪽에서는 다시 하위 계층에서 상위 계층으로 데이터를 보냄.

> 데이터를 보내는 과정을 인캡슐레이션, 받는 과정을 디캡슐레이션이라고 부름.

즉 작동 원리를 정리하자면, 
1. 상위 계층에서 패킷 형태로 하나씩 인캡슐레이션되면서 내려옴
2. 랜 카드에서 전기 형태로 변환되어 목적지로 전달됨.
3. 전기 신호를 받은 목적지는 데이터 형태로 변환해 상위 계층으로 올려주어 패킷을 조합해 데이터 형태로 만듬.
4. 상위 -> 하위 계층 , 하위 -> 상위 계층으로 전달되는 구조.
